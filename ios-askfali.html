<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>iOS Aşk Falı</title>
  <link href="https://fonts.googleapis.com/css2?family=Ephesis&display=swap" rel="stylesheet" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Georgia, 'Times New Roman', serif;
      background-image: url('4k.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow-x: hidden;
      overflow-y: hidden;
      touch-action: none;
      color: black;
      position: relative;
    }

    .for-nursena {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Ephesis', cursive;
      font-size: 22px;
      font-weight: bold;
      color: #000;
      z-index: 10;
      user-select: none;
      pointer-events: none;
    }

    .date {
      position: fixed;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      font-family:  'Times New Roman', serif;
      font-weight: bold;
      font-size: 22px;
      color: black;
      opacity: 0;
      animation: fadeIn 1s forwards;
      z-index: 10;
      user-select: none;
      pointer-events: none;
    }

    .footer-frame {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40px;
      object-fit: cover;
      z-index: 5;
      pointer-events: none;
    }

    .buton {
      position: fixed;
      bottom: 120px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 60px;
      background: url('buton.png') no-repeat center center;
      background-size: contain;
      border: none;
      cursor: pointer;
      z-index: 20;
      animation: pulse 2s infinite;
      user-select: none;
    }

    @keyframes pulse {
      0%, 100% { transform: translateX(-50%) scale(1); }
      50% { transform: translateX(-50%) scale(1.1); }
    }

    .siir-dizesi {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: Georgia, 'Times New Roman', serif;
      font-style: italic;
      font-size: 22px;
      color: black;
      text-align: center;
      white-space: pre-line;
      max-width: 90%;
      opacity: 0;
      transition: opacity 0.6s ease;
      z-index: 15;
      user-select: none;
      pointer-events: none;
      line-height: 1.4;
      padding: 0 10px;
      box-sizing: border-box;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    @media (min-width: 769px) {
      body {
        display: none;
      }
    }
  </style>
</head>
<body>

  <div class="for-nursena">For Nursena</div>
  <div class="date" id="dateToday"></div>
  <button class="buton" aria-label="Şiir Getir"></button>
  <div class="siir-dizesi" id="siirDizesi"></div>
  <img src="cerceve.png" alt="Alt Çerçeve" class="footer-frame" />

  <script>
    // Şiirler
    const siirler = [
      "Sözlere değil sana çabasını ve zamanını ayırana inan .",
      "Sen ol da , ister yar ol , ister yara ;\nLütfun da başım üstüne , kahrın da.",
      "Bahar bir insanla gelebilir bir insana .",
      "Çiçeklerden papatyayı \nİnsanlardan seni sevdim .",
      "Onu sevmek nefes almak gibiydi , \nbir insan nefes almaktan nasıl vazgeçer ki ?",
      "Bazen beklemek lazım ,\nen güzeli için ...",
      "Neyi düşünsem , seni düşünüyorum .\nNeyi görsem , seni görüyorum .",
      "Ve hayattır sevmek.\nBirini çok uzaktayken bile ,\nyüreğinde taşıyabilmek .",
      "Keşke sen ben olsan ;\nSeni sevmenin ne kadar \nzor olduğunu anlasan .\nKeşke ben sen olsam ;\nBu kadar sevilmenin tadını çıkarsam ...",
      "Öylesine güzel\nseviyorum ki seni ,\nÖylesine Saf . \nÖylesine temiz .\nÖylesine derin .\nVe ''Öylesine'' değil ...",
      "Sen yeter ki çocukluk yap .\nGönlümde salıncağın hep hazır .",
      "Ey sevgili !\nBir geceliğine\ndeğiş tokuş etsek yüreğimizi ,\nTaşıyabilir miydin bendeki seni ?",
      "Aklımdan çıkmıyor \nAklım çıkıyor\nO çıkmıyor ",
      "Ama uzaktaydı \nUzaklığını düşündükçe \nOna daha da güçlü bağlanıyordum .",
      "İçimde sana kavuşma ümidi güçlendikçe , \nKainatı güllük gülistanlık görüyorum ...",
      "Benim kalbim senin ellerinde çiçek açtı .\nBunu sana nasıl anlatırım bilmiyorum ...",
      "Beni bu hayata bağlayan her şey \nSenin iki kolun arasında birikmiş\ngibi ... ",
      "Senden başkasını sevecek , \nkalbim de yok gücüm de .",
      "Yanımda taşıdığım fotoğrafının , \ngözlerinden öptüm \ndefalarca .",
      "Bir gün daha \nseni görmeden geçiyor .\n  Ama kavuşacağız ",
      "İyi gelen ne varsa\nhepsi sensin işte .",
      "Her gün bir kere hatırlar mısın beni ?\nHer hatırladığında gülümser misin bire kere ?\nkimseye belli etmeden ...",
      "Muazzam bir ihtimalsin .\nGökyüzüne dokunmak gibi . \nTüm maviliklerin sahibi olmak gibi\nHani nasıl desem ' mutlu olmak gibi ...",
      "Bin yıl ömrüm olsa\nBin yıl seni severdim .\nBin yıl benim olsan \nBin yıl daha isterdim .",
      "Seni sevmeyi dünyanın en güzel \nşiiri yapacağım ...",
      "Yaşamın boyunca başına bir tane bile\nkötü olay gelmemesini dileyecek kadar \nçok seviyorum seni .",
      "Ben bütün bu - belki de manasız -\niç sıkıntılarından senin var olduğunu \nhatırlayarak sıyrılıyorum ...",
      "Gökyüzünün çilleri var bu gece . \nVe sen onlardan bile güzelsin ...",
      "Bugün beni ne kadar seviyorsun balım  :)",
      "Kim ne derse desin \nya da ne yaparsa yapsın\nsen hep rengini yitirmeyen\nbir zümrüt olacaksın balım ...",
      "Sen benim Gün eşimsin ,\nzifirin bile örtemediği .\nBen senin yıldızınım\nSenden uzakta zifirin içinde ...",
      "Sen benim en kıymetli sırrımsın ...",
      "Çiçek de çiçekli günler de sensin ...",
      "Emre'ye sormuşlar :\nO yâr ile hoş musun ?\nHoş olayım , olmayayim\nO yâr benim , kime ne ?",
      "Emre için en kötüsü de bir gün \ngerçekten sevilirse buna inanmanın\nzorluğunu fark etmesi olacaktı ...",
      "Günlere bakarsın katı katı ,\nÜzerine çekersin perde .\nYoldan geçenler var da\nHer akşam gelenler nerede ?",
      "Ne başkası oldu ne de olacak .\nSen çalmazsan kapım açılmayacak .",
      "Emre güzelliğini kaybetmiş bu dünyada \nNursenasına şahit olmuştu ...",
      "Ne çıkar yanımda olmasan !\nKalbim senden ibaret değil mi ?\nUzaktan sevmek zor demişsin .\nEtme sevdam\nUzaktan sevmek ibadet değil mi ?",
      "Kalbimi gülümsetiyorsun",
      "Gözümle gördüğüm değil ,\nGönlümde kördüğümsün .\nÇözmeye niyetim yok , \nSen benim ömürlüğümsün ...",
      "Sende gördüğümü görecekler diye ödüm kopuyor .",
      "Gözüm gözüne değmeden yazdığım şiirler melal .\nVarsın değmesin razıyım ey  yâr ...\nBöylesi de helal !"
    ];

    const siirDizesiDiv = document.getElementById('siirDizesi');
    const dateDiv = document.getElementById('dateToday');
    const buton = document.querySelector('.buton');

    // Gün + Ay biçiminde tarih gösterimi
    function showDate() {
      const today = new Date();
      const options = { day: 'numeric', month: 'long' };
      dateDiv.textContent = today.toLocaleDateString('tr-TR', options);
      dateDiv.style.opacity = '1';
    }

    // Otomatik yazı boyutu ayarlama (min 14, max 22px arası)
    function adjustFontSize(text) {
      let fontSize = 22;
      siirDizesiDiv.style.fontSize = fontSize + 'px';
      siirDizesiDiv.textContent = text;
      const maxHeight = window.innerHeight * 0.4; // max yükseklik %40 ekran
      const maxWidth = window.innerWidth * 0.9;   // max genişlik %90 ekran

      // Küçültme döngüsü
      while ((siirDizesiDiv.scrollHeight > maxHeight || siirDizesiDiv.scrollWidth > maxWidth) && fontSize > 14) {
        fontSize -= 1;
        siirDizesiDiv.style.fontSize = fontSize + 'px';
      }

      // Büyütme döngüsü (boşluk kalmasın, max 22)
      while (siirDizesiDiv.scrollHeight < maxHeight * 0.8 && siirDizesiDiv.scrollWidth < maxWidth * 0.8 && fontSize < 22) {
        fontSize += 1;
        siirDizesiDiv.style.fontSize = fontSize + 'px';
      }
    }

    // Son gösterilen şiirin indexini ve tekrar arasını kontrol etmek için
    let lastIndexes = [];
    const minInterval = 5; // Aynı şiir tekrarından önce en az 5 farklı gösterim olmalı

    // Yeni şiir seçimi, tekrar kontrolü
    function getNextSiir() {
      for (let attempts = 0; attempts < 50; attempts++) {
        const randIndex = Math.floor(Math.random() * siirler.length);
        if (!lastIndexes.includes(randIndex)) {
          lastIndexes.push(randIndex);
          if (lastIndexes.length > minInterval) lastIndexes.shift();
          return siirler[randIndex];
        }
      }
      // Eğer 50 denemede bulamazsa direkt rastgele dön
      return siirler[Math.floor(Math.random() * siirler.length)];
    }

    // Şiiri göster
    function showNextSiir() {
      const nextSiir = getNextSiir();
      adjustFontSize(nextSiir);
      siirDizesiDiv.style.opacity = '0';
      setTimeout(() => {
        siirDizesiDiv.textContent = nextSiir;
        siirDizesiDiv.style.opacity = '1';
      }, 300);
    }

    // Başlangıçta tarih göster
    showDate();

    // İlk şiir göster
    showNextSiir();

    // Butona tıklayınca yeni şiir göster
    buton.addEventListener('click', showNextSiir);

    // Dokunmatik cihazlarda sadece dikey kaydırmayı önle, yatay scroll engellenmesin
    document.body.addEventListener('touchmove', function(e) {
      e.preventDefault();
    }, { passive: false });

  </script>
</body>
</html>
